{
  "hash": "cdaabd86efd78315fe509c22706b26df",
  "result": {
    "markdown": "---\ntitle: \"Age Adjusted Rates in Epidemiology\"\nauthor: Raju Rimal\ndate: 2022-12-02T21:00:57+01:00\ntags:\n  - Statistics\n  - Epidemiology\nformat: html\n---\n\n\n\n\nIn general, rates means how fast something is changing usually over time. In\nepidemiology uses it to describe how quickly a disese occurs in a population.\nFor example, 35 cases of melanoma cases in 100,000 person per year convey a the\nsense of speed of spread of disease in that population. Incidence rate and \nmortality rate are two examples that we will discuss further below.\n\n> In epidemiology, rate measures the frequency of occurance of an event in a \n> given population over certain period of time[^1].\n\nLet us use melanoma as a outcome in the following discussion. Here, we can \ncalculate a crude incidence rate as,\n\n$$\\mathcal{R} = \\frac{\\textsf{no. of melanoma cases}}{\\textsf{no. of person-year}} \\times \\textsf{some multiplier}$$\n\nIn the case of mortality rate, we can replace the numerator of above expression\nby the number of melanoma deaths.\n\n## Age-specific rate\n\nWeather to understand a broder prespecitve or to compare across population, these\nrates are often analyzed stratified by sex and age. This also helps to remove \nthe confounding effection of these factors. The incidence/mortality rate\nper age-group is usually referred to as _Age-specific rates_ where rates\nare computed for each age-groups. This is often desirable since factor `age` \nhas a strong effect on mortality and incidence of most disease especially the \ncronic one.\n\n## Age-adjusted rate\n\nMany research articles, however presents the age-adjusted rates. Age-adjusted \nrates are standardized (weighted) using some standard population age-structure. \nFor example, many european studies on melanoma uses european standard age\ndistribution. While any reasonal studies have also used world standard population.\nCancer registry in their reports sometimes uses age-structure of that country in\nsome given year. For instance, Norway[^3] and Finland[^4] have used the their population in \n2014 as standard population in their recent cancer report while Australia have\nused 2001 Australian population[^5].\n\nStandardized (adjusted) rates makes comparison between the population possible.\nFigure \\@ref(fig:age-std) shows the difference in the age distribution between\nworld population and European population. Following table are some of the\nstandard population often used in the study. Further on standard popuation see \n[`seer.cancer.gov`](https://seer.cancer.gov/stdpopulations/stdpop.19ages.html)[^6].\n\n:::: columns\n::: column\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>European and World standard population</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Age Group </th>\n   <th style=\"text-align:right;\"> World </th>\n   <th style=\"text-align:right;\"> Europe </th>\n   <th style=\"text-align:right;\"> Nordic </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 0-4 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 12000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 8000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 5900 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 5-9 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 10000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6600 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 10-14 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 9000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6200 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 15-19 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 9000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 5800 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 20-24 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 8000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6100 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 25-29 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 8000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6800 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 30-34 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7300 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 35-39 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7300 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 40-44 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 45-49 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6900 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 50-54 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 5000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 7400 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 55-59 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 4000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 6100 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 60-64 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 4000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 5000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 4800 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 65-69 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 3000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 4000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 4100 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 70-74 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 2000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 3000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 3900 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 75-79 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 1000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 2000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 3500 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 80-84 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 500 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 1000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 2400 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 2px;\"> 85+ </td>\n   <td style=\"text-align:right;padding: 2px;\"> 500 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 1000 </td>\n   <td style=\"text-align:right;padding: 2px;\"> 1900 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n::: column\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>US 2000 standard population</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Age Group </th>\n   <th style=\"text-align:right;\"> Std.Population </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 00 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 13818 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 01-04 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 55317 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 05-09 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 72533 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 10-14 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 73032 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 15-19 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 72169 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 20-24 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 66478 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 25-29 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 64529 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 30-34 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 71044 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 35-39 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 80762 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 40-44 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 81851 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 45-49 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 72118 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 50-54 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 62716 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 55-59 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 48454 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 60-64 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 38793 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 65-69 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 34264 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 70-74 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 31773 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 75-79 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 26999 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 80-84 </td>\n   <td style=\"text-align:right;padding: 1px;\"> 17842 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding: 1px;\"> 85+ </td>\n   <td style=\"text-align:right;padding: 1px;\"> 15508 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n::::\n\n:::: columns\n::: column\n## Calculating age-standardized rate\n\nThe age-standardized rate (ASR) is calculated as,\n\n$$\\text{Age.Std. Rate} = \\frac{\\sum_i\\mathcal{R}_i\\mathcal{w}_i}{\\sum_i\\mathcal{w}_i}$$\n\nwhere, $\\mathcal{w}_i$ is the weight corresponding to $i^\\text{th}$ age-group in the \nreference population.\n\nLet's explore further with an example from melanoma cases from Australia.\n\n:::\n::: column\n\n\n\n::: {.cell fig.asp='0.8'}\n::: {.cell-output-display}\n![World and European standard population](index_files/figure-html/age-std-1.svg){width=100%}\n:::\n:::\n\n:::\n::::\n\n## Example\n\nThe following example have used the Austrailian cancer data with 5-year \nage-group[^2] after filtering melanoma cases from 1982 to 2018. The dataset has\nyearly count and age-specific incidence rate of melanoma for men and women.\n\nLet us use the above European standard population to find the yearly\nage-standardized incidence by sex.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- fread(\"melanoma.csv\")\nstd_pop <- popEpi::stdpop18\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndata[AgeGroup %in% c(\"85-89\", \"90+\"), AgeGroup := \"85+\"]\nsetnames(std_pop, c(\"AgeGroup\", \"World\", \"Europe\", \"Nordic\"))\nstd_pop[AgeGroup == \"85\", AgeGroup := \"85+\"]\nstd_pop[, c(2:4) := lapply(.SD, prop.table), .SDcols = 2:4]\nasp_data <- merge.data.table(data, std_pop[, .(AgeGroup, World)], by = \"AgeGroup\")\nasp <- asp_data[, .(AgeAdjRate = sum(ASR * World)), by = .(Year, Sex)]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nasp[, tail(.SD, 8), by = Sex] %>%\n    dcast.data.table(\n        formula = Sex ~ Year,\n        value.var = \"AgeAdjRate\") %>% \n        kableExtra::kbl(caption = paste(\n            \"Age-standardized incidence rate of melanoma\",\n            \"Australia from 2011 to 2018\"\n    )) %>% \n    kableExtra::kable_styling(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n<caption>Age-standardized incidence rate of melanoma Australia from 2011 to 2018</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Sex </th>\n   <th style=\"text-align:right;\"> 2011 </th>\n   <th style=\"text-align:right;\"> 2012 </th>\n   <th style=\"text-align:right;\"> 2013 </th>\n   <th style=\"text-align:right;\"> 2014 </th>\n   <th style=\"text-align:right;\"> 2015 </th>\n   <th style=\"text-align:right;\"> 2016 </th>\n   <th style=\"text-align:right;\"> 2017 </th>\n   <th style=\"text-align:right;\"> 2018 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Females </td>\n   <td style=\"text-align:right;\"> 28.915 </td>\n   <td style=\"text-align:right;\"> 29.6905 </td>\n   <td style=\"text-align:right;\"> 30.3050 </td>\n   <td style=\"text-align:right;\"> 30.5225 </td>\n   <td style=\"text-align:right;\"> 30.8590 </td>\n   <td style=\"text-align:right;\"> 32.161 </td>\n   <td style=\"text-align:right;\"> 31.5110 </td>\n   <td style=\"text-align:right;\"> 32.404 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Males </td>\n   <td style=\"text-align:right;\"> 41.433 </td>\n   <td style=\"text-align:right;\"> 42.3845 </td>\n   <td style=\"text-align:right;\"> 43.1275 </td>\n   <td style=\"text-align:right;\"> 42.8415 </td>\n   <td style=\"text-align:right;\"> 43.7275 </td>\n   <td style=\"text-align:right;\"> 45.309 </td>\n   <td style=\"text-align:right;\"> 45.2745 </td>\n   <td style=\"text-align:right;\"> 45.040 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nNow, let us compare the age-specific rates (crude rates) and  age-standardized\nrates with a plot,\n\n### Compare the age-specific rates and age-adjusted rates {.accordions}\n\n::: panel-tabset\n\n#### Plot {.accordion}\n\n::: {.cell fig.asp='0.5'}\n::: {.cell-output-display}\n![Age-standardized melanoma rate in Australia](index_files/figure-html/fig-rate-plot-1.svg){#fig-rate-plot width=672}\n:::\n:::\n\n\n#### Code {.accordion}\n\n\n::: {.cell}\n\n:::\n\n\n:::\n\n### Compare the age-adjusted rates by sex {.accordions}\n\n::: panel-tabset\n\n#### Plot {.accordion}\n\n::: {.cell fig.asp='0.5'}\n::: {.cell-output-display}\n![Age-standardized melanoma rate in Australia](index_files/figure-html/fig-adj-rate-plot-1.svg){#fig-adj-rate-plot width=672}\n:::\n:::\n\n\n#### Code {.accordion}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n    geom_line(\n        data = data, \n        aes(\n            x = Year, \n            y = ASR, \n            group = AgeGroup,\n            color = \"Crude\"\n        )\n    ) +\n    geom_line(\n        data = asp,\n        aes(\n            x = Year, \n            y = AgeAdjRate, \n            group = 1,\n            color = \"Age-adjusted\"\n        )\n    ) +\n    geom_text(\n        data = data[Year == max(Year)],\n        check_overlap = TRUE,\n        size = rel(2),\n        color = \"#0f0f0f\",\n        aes(\n            x = Year + 2,\n            y = ASR,\n            label = AgeGroup\n        )\n    ) +\n    scale_x_continuous(breaks = scales::breaks_extended(8)) +\n    scale_y_continuous(breaks = scales::breaks_extended(8)) +\n    scale_color_manual(NULL, values = c(\"firebrick\", \"grey\")) +\n    facet_grid(cols = vars(Sex)) +\n    theme_minimal() +\n    theme(\n        panel.border = element_rect(fill = NA, color = \"darkgrey\"),\n        legend.position = c(0, 1),\n        legend.justification = c(0, 1)\n    ) +\n    labs(\n        x = \"Diagnosis year\",\n        y = paste(\n            \"Age-adjusted incidence rate\",\n            \"per 100,000 person year\",\n            sep = \"\\n\"\n        )\n    )\n```\n:::\n\n\n:::\n\n## Discussion\n\nFigure @fig-rate-plot shows that the incidence of melanoma has larger \ndifference in men between the age-groups than in women and men also have a sharp \nincrease in older age group. In addition, the Figure @fig-adj-rate-plot shows that males have higher\nage-adjusted incidence of melanoma than women in Australia and this trend is \nincreasing over time with rapid increase before 1983 before a drop.\n\nAge-adjusted rates are useful for comparing rates between population but it\ncannot give the interpretation required for comparing within a population or\nover a time period in that population. This is one of the reason, cancer registry\nuses the internal (population structure of their own population) to compute the\nage-adjusted rates.\n\n\n[^1]: https://www.cdc.gov/csels/dsepd/ss1978/lesson3/section1.html\n[^2]: https://www.aihw.gov.au/reports/cancer/cancer-data-in-australia/data\n[^3]: https://www.kreftregisteret.no/globalassets/cancer-in-norway/2021/cin_report.pdf\n[^4]: https://cancerregistry.fi/reports-and-publications/annual-report-on-cancer-in-finland/\n[^5]: https://www.aihw.gov.au/reports/cancer/cancer-in-australia-2021/summary\n[^6]: https://seer.cancer.gov/stdpopulations/stdpop.19ages.html\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}